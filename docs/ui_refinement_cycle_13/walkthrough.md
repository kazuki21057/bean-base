# チャート改善とAI連携 (Cycle 13) ウォークスルー

## 1. 変更内容
### Radar Chart (レーダーチャート)
- **'Score' 軸の追加**: 7つ目の軸として `Overall Score` を追加しました。
- **スケール表示**: チャート上部に「Scale: 0 - 10 (Grid: 2, 4, 6, 8, 10)」というガイドを追加し、グリッド線の意味を明確にしました。
  - ※ライブラリの制約上、全軸への数値描画は困難なため、グリッド線とガイドテキストによる対応としました。

### PCA Scatter Plot (主成分分析)
- **凡例レイアウト**: 「Low (小・青) 〜 High (大・赤)」の並び順を整理し、直感的にしました。
- **AI分析機能 (Gemini連携)**:
  - チャートの下に **「AI Analyze Components」** ボタンを追加しました。
  - ボタンを押すと、Gemini APIを利用して成分（PC1, PC2）の意味合いを分析・解説します。

## 2. 利用手順
### AI分析の実行
1. **Statistics画面** の下部にある 「AI Analyze Components」ボタンをタップします。
2. 初回のみ **APIキー入力ダイアログ** が表示されます。
   - Google Gemini APIキーを入力して「Save」を押してください。
   - キーは端末内に保存されます。
   - モデルは `gemini-pro` を使用します。
3. 分析が実行され、結果がダイアログで表示されます。
   - ※同じ画面を開いている間は結果が保持され、再通信は行いません（コスト節約）。

## 3. 検証手順
1. `flutter run` でアプリを起動。
2. Statistics画面でレーダーチャートに「Score」軸があることを確認。
3. PCAプロット下の「AI Analyze Components」ボタンを押し、APIキー（お持ちであれば）を入力して動作を確認。
   - スキップする場合はそのままCloseしてください。
4. PCA凡例が「Low → High」の順で並んでいることを確認。
